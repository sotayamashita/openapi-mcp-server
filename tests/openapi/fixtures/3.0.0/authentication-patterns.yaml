openapi: 3.0.0
info:
  title: Authentication Patterns API
  description: OpenAPI 3.0.0 schema for testing API authentication patterns
  version: 1.0.0

servers:
  - url: https://api.example.com/v1

# Authentication definitions
components:
  securitySchemes:
    # Basic authentication
    basicAuth:
      type: http
      scheme: basic
      description: Basic authentication (username and password)

    # Bearer authentication
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: Bearer authentication using JWT token

    # Digest authentication (authentication scheme defined in RFC 7235)
    digestAuth:
      type: http
      scheme: digest
      description: Digest authentication

    # API key in header
    apiKeyHeader:
      type: apiKey
      in: header
      name: X-API-Key
      description: API key authentication in header

    # API key in query parameter
    apiKeyQuery:
      type: apiKey
      in: query
      name: api_key
      description: API key authentication in query parameter

    # API key in cookie
    apiKeyCookie:
      type: apiKey
      in: cookie
      name: SESSIONID
      description: API key authentication in cookie

paths:
  # Endpoint using Basic authentication
  /auth/basic:
    get:
      summary: Endpoint using Basic authentication
      security:
        - basicAuth: []
      responses:
        "200":
          description: Authentication successful
        "401":
          description: Authentication failed

  # Endpoint using Bearer authentication
  /auth/bearer:
    get:
      summary: Endpoint using Bearer authentication
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Authentication successful
        "401":
          description: Authentication failed

  # Endpoint using Digest authentication
  /auth/digest:
    get:
      summary: Endpoint using Digest authentication
      security:
        - digestAuth: []
      responses:
        "200":
          description: Authentication successful
        "401":
          description: Authentication failed

  # Endpoint using API key in header
  /auth/apikey/header:
    get:
      summary: Endpoint using API key in header
      security:
        - apiKeyHeader: []
      responses:
        "200":
          description: Authentication successful
        "401":
          description: Authentication failed

  # Endpoint using API key in query parameter
  /auth/apikey/query:
    get:
      summary: Endpoint using API key in query parameter
      security:
        - apiKeyQuery: []
      responses:
        "200":
          description: Authentication successful
        "401":
          description: Authentication failed

  # Endpoint using API key in cookie
  /auth/apikey/cookie:
    get:
      summary: Endpoint using API key in cookie
      security:
        - apiKeyCookie: []
      responses:
        "200":
          description: Authentication successful
        "401":
          description: Authentication failed

  # Endpoint combining multiple authentication methods (any one is acceptable)
  /auth/multiple-options:
    get:
      summary: Endpoint using any one of multiple authentication methods
      security:
        - basicAuth: []
        - bearerAuth: []
        - apiKeyHeader: []
      responses:
        "200":
          description: Authentication successful
        "401":
          description: Authentication failed

  # Endpoint combining multiple authentication methods (all required)
  /auth/combined:
    get:
      summary: Endpoint requiring all specified authentication methods
      security:
        - bearerAuth: []
          apiKeyHeader: []
      responses:
        "200":
          description: Authentication successful
        "401":
          description: Authentication failed
